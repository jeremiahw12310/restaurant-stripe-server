services:
  - type: web
    name: restaurant-stripe-server
    env: node
    buildCommand: chmod +x build.sh && ./build.sh
    startCommand: npm start  
    rootDir: backend-deploy
    envVars:
      - key: NODE_ENV
        value: production
      - key: OPENAI_API_KEY
        sync: false
      - key: FIREBASE_SERVICE_ACCOUNT_KEY
        sync: false
      - key: FIREBASE_AUTH_TYPE
        value: adc
      - key: GOOGLE_CLOUD_PROJECT
        value: dumplinghouseapp
      - key: GOOGLE_APPLICATION_CREDENTIALS
        value: /opt/render/project/src/service-account.json
    healthCheckPath: /
    # Force redeploy - Enhanced Variety System Update - Sat Jul 19 23:59:00 CDT 2025 